<!DOCTYPE html>
<html>
<head>
	<title>Feierabend-Rechner JS- v1.1</title>
	<!-- CSS only -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<style type="text/css">
		.container{
			height: 600px;
		}
		body{
			font-size: 22px;
			border-style: solid solid solid solid;
			border-color: #f4a261;
			border-width: 90px 15px 25px 15px;
			background-color:  #004466
		}
		h2 {
			margin-top: 10px;
			color:white;
		}
		label {
			color:white;
		}
		p {
			font-weight: bold;
			font-size: 30px;
			color:#f4a261;;
		}
		button{	

				margin-top: 2px;
				height: 55px;			
				width: 200px;
				border-radius: 5px;
				color:black;
				background-color:#f4a261;
		}
		h6 {
			margin-top: 5px;
			margin-right: 50px;
			text-align: right;
			color:white;
		}
		h5{
			color:white;
		}
		input {
			font-weight: bold;
			font-size: 28px;
			text-align: center;
			border-radius: 5px;
			width : 150px;
			background-color: #a8caff
		}

		
	</style>
</head>
<body>
	<div class="pos-f-t">
  		<div class="collapse" id="navbarToggleExternalContent">
    		<div class="bg-dark p-4">
    			<center>	
      				<h2 class="text-white">Zeit berechnen</h2>
     					<button onclick="reset()"><strong>Reset</strong></button><hr color="white">
     					<button type="button" onclick="rechnenMit8()"><strong>Rechnen 8.12</strong></button><hr color="white">
     					<button type="button" onclick="rechnenMit10()"><strong>Rechnen 10.3</strong></button><hr color="white">
    			</center>
					<label for="sollmorgen">Sollzeit Morgen:</label><br>
					<input type="text" name="sollmorgen" id="sollmorgen" value="5:00" maxlength="5" size="5"><br>
					<label for="sollmittag">Sollzeit Mittag:</label><br>
					<input type="text" name="sollmittag" id="sollmittag" value="0:30" maxlength="5" size="5"><br>
   			 </div>
 		 </div>
  		<nav class="navbar fixed-top navbar-dark bg-dark">
    		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarToggleExternalContent" aria-controls="navbarToggleExternalContent" 	aria-expanded="false" aria-label="Toggle navigation">
      		<span class="navbar-toggler-icon"></span>
    		</button>
  		</nav>
	</div>


	
	<div class="container">
		<center>
			<h2>Stempelungen</h2>
			<br>
			<div class="container">
				<div class="container-fluid">
					<div class="row">
						<div class="col-lg-6">
							<label for="morgen">Morgen:</label><br>
							<input type="text" name="morgen" id="morgen" maxlength="5" size="5" placeholder="00:00"><br>
							<label for="mittag">Mittag:</label><br>
							<input type="text" name="mittag" id="mittag" maxlength="5" size="5" placeholder="00:00">
							<br><p id = "morgenzeit"></p>
						</div>
					<div class="col-lg-6">
						<label for="nachmittag">Nachmittag:</label><br>
						<input type="text" name="nachmittag" id="nachmittag" maxlength="5" size="5" placeholder="00:00"><br>
						<label for="abend">Abend:</label><br>
						<input type="text" name="abend" id="abend" maxlength="5" size="5" placeholder="00:00">
					</div>
				</div>
			</div>
			<br>
			<p id="gesamt" color="#f4a261"></p>
	</div>
	
</body>

	<!-- JS, Popper.js, and jQuery -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
<script type="text/javascript">
	
	
    
	
	function reset(){
		$('#navbarToggleExternalContent').collapse('hide'); // navbar schliessen
		document.getElementById("morgen").value = ""; // wert aus den Feldern lesen
		document.getElementById("mittag").value = "";
		document.getElementById("nachmittag").value = ""; 
		document.getElementById("abend").value = ""; 
		document.getElementById("gesamt").innerHTML = "";
		
	}
	
	function umrechnen(zeit){
					stunden = Math.floor(zeit / 60);
					minuten = zeit % 60;
					if (minuten < 10){
						minuten = "0" + minuten;
					} 
					resultat = stunden + ":" + minuten;
					return resultat
				}	
			
	document.getElementById("morgen").onchange = function() {
		berechnen(394);
	};

		document.getElementById("mittag").onchange = function() {
		berechnen(394);
	};

		document.getElementById("nachmittag").onchange = function() {
		berechnen(394);
	};

		document.getElementById("abend").onchange = function() {
		berechnen(394);
	};
		document.getElementById("sollmorgen").onchange = function() {
		document.getElementById("mittag").value="";
		document.getElementById("nachmittag").value=""; 
		document.getElementById("abend").value="";
		berechnen(394);

	};
		document.getElementById("sollmittag").onchange = function() {
		berechnen(394);
		document.getElementById("mittag").value="";
		document.getElementById("nachmittag").value=""; 
		document.getElementById("abend").value="";
		berechnen(394);
	};
		
		
	function rechnenMit8(){
		var morgen = document.getElementById("morgen").value; // wert aus den Feldern lesen
		var mittag = document.getElementById("mittag").value;
		var nachmittag = document.getElementById("nachmittag").value; 
		let zeitenmorgen = morgen.split(":"); // Stunden und minuten trennen
		let morgenstunde = zeitenmorgen[0];
		let morgenminute = zeitenmorgen[1];
		let morgenzeit = Number(morgenstunde)*60  + Number(morgenminute);
		let zeitenmittag = mittag.split(":"); // Stunden und minuten trennen
		let mittagstunde = zeitenmittag[0];
		let mittagminute = zeitenmittag[1];
		let mittagszeit = Number(mittagstunde*60) +Number(mittagminute);
		let zeitennachmittag = nachmittag.split(":"); // Stunden und minuten trennen
		let nachmittagstunde = zeitennachmittag[0];
		let nachmittagminute = zeitennachmittag[1];
		let nachmittagszeit = Number(nachmittagstunde*60)+ Number(nachmittagminute);
		let mittagspausenlaenge =  nachmittagszeit - mittagszeit;

		abendzeit = Number(morgenzeit + 492 + Number(mittagspausenlaenge)); // buutons berechnen
		abendzeit = umrechnen(abendzeit);
		document.getElementById("abend").value = abendzeit;
		document.getElementById("gesamt").innerHTML = "8.12 Stunden";
		$('#navbarToggleExternalContent').collapse('hide');
	}

	function rechnenMit10(){
		var morgen = document.getElementById("morgen").value; // wert aus den Feldern lesen
		var mittag = document.getElementById("mittag").value;
		var nachmittag = document.getElementById("nachmittag").value; 
		let zeitenmorgen = morgen.split(":"); // Stunden und minuten trennen
		let morgenstunde = zeitenmorgen[0];
		let morgenminute = zeitenmorgen[1];
		let morgenzeit = Number(morgenstunde)*60  + Number(morgenminute);
		
		let zeitenmittag = mittag.split(":"); // Stunden und minuten trennen
		let mittagstunde = zeitenmittag[0];
		let mittagminute = zeitenmittag[1];
		let mittagszeit = Number(mittagstunde*60) +Number(mittagminute);
		let zeitennachmittag = nachmittag.split(":"); // Stunden und minuten trennen
		let nachmittagstunde = zeitennachmittag[0];
		let nachmittagminute = zeitennachmittag[1];
		let nachmittagszeit = Number(nachmittagstunde*60)+ Number(nachmittagminute);
		let mittagspausenlaenge =  nachmittagszeit - mittagszeit;

		abendzeit = Number(morgenzeit + 630 + Number(mittagspausenlaenge)); // buutons berechnen
		abendzeit = umrechnen(abendzeit);
		document.getElementById("abend").value = abendzeit;
		document.getElementById("gesamt").innerHTML = "10.3 Stunden";
		$('#navbarToggleExternalContent').collapse('hide');
	}


	function berechnen(zeit){
			
		var morgen = document.getElementById("morgen").value; // wert aus den Feldern lesen
		var mittag = document.getElementById("mittag").value;
		var nachmittag = document.getElementById("nachmittag").value; 
		var abend = document.getElementById("abend").value;
		var sollmorgen = document.getElementById("sollmorgen").value;
		var sollmittagspause = document.getElementById("sollmittag").value;
			
		sollmorgen = sollmorgen.split(":"); // Stunden und minuten trennen
		let sollmorgenstunde = sollmorgen[0];
		let sollmorgenminute = sollmorgen[1];
		sollmorgen = Number(sollmorgenstunde)*60  + Number(sollmorgenminute);
		console.log(sollmorgen),
		sollmittagspause = sollmittagspause.split(":");
		let sollmittagstunde = sollmittagspause[0];
		let sollmitagsminute = sollmittagspause[1];
		sollmittagspause = Number(sollmittagstunde)*60  + Number(sollmitagsminute);
		console.log(sollmittagspause);

		if(morgen && (!mittag) && (!nachmittag) && (!abend)){
			//mittag = document.getElementById("mittag").value = ;
			let zeitenmorgen = morgen.split(":"); // Stunden und minuten trennen
			let morgenstunde = zeitenmorgen[0];
			let morgenminute = zeitenmorgen[1];
			let morgenzeit = Number(morgenstunde)*60  + Number(morgenminute);
			let mittagszeit = Number(morgenzeit + sollmorgen);// morgensoll anstatt 300
			let nachmittagzeit = Number(morgenzeit + sollmorgen+sollmittagspause);// morgensoll+mittagssoll
			let abendzeit = Number(morgenzeit) + Number(sollmittagspause)+Number(zeit);// morgensoll + mittagssoll + (gesamtsoll-(morgensoll+mittagssoll))
			console.log(zeit);
 			mittagszeit = umrechnen(mittagszeit); 
 			nachmittagzeit = umrechnen(nachmittagzeit);
 			abendzeit = umrechnen(abendzeit);
			document.getElementById("mittag").value = mittagszeit;
			document.getElementById("nachmittag").value = nachmittagzeit;
			document.getElementById("abend").value = abendzeit;	

			berechnen();
		}


		if (morgen && mittag && nachmittag && abend){ 
			let zeitenmorgen = morgen.split(":"); // Stunden und minuten trennen
			let morgenstunde = zeitenmorgen[0];
			let morgenminute = zeitenmorgen[1];
			let morgenzeit = Number(morgenstunde)*60  + Number(morgenminute);
			
			let zeitenmittag = mittag.split(":"); // Stunden und minuten trennen
			let mittagstunde = zeitenmittag[0];
			let mittagminute = zeitenmittag[1];
			let mittagszeit = Number(mittagstunde*60) +Number(mittagminute);

			let zeitAmMorgen = mittagszeit - morgenzeit;
			
			let zeitennachmittag = nachmittag.split(":"); // Stunden und minuten trennen
			let nachmittagstunde = zeitennachmittag[0];
			let nachmittagminute = zeitennachmittag[1];
			let nachmittagszeit = Number(nachmittagstunde*60)+ Number(nachmittagminute);

			let zeitenabend = abend.split(":");
			let abendstunde = zeitenabend[0];
			let abendminute = zeitenabend[1];
			let abendzeit = Number(abendstunde*60) + Number(abendminute);

			let zeitAmAbend = abendzeit - nachmittagszeit;
			let gesamtezeit = zeitAmMorgen + zeitAmAbend;
			
			console.log();
				
			gesamtezeit = umrechnen(gesamtezeit);

			console.log(umrechnen(gesamtezeit))
			document.getElementById("gesamt").innerHTML = gesamtezeit + " Stunden"; 		
		}

	}
</script>
</html>               
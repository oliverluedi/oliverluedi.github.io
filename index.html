<!DOCTYPE html>
<html>
<head>
	<title>Feierabend-Rechner JS- v1.1</title>
	<!-- CSS only -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<style type="text/css">
		.container{
			height: 1200px;
		}
		body{
			font-size: 25px;
			border-style: solid solid solid solid;
			border-color: #f4a261;
			border-width: 20px 50px 50px 50px;
			background-color:  #004466
		}
		h2 {
			color:white;
		}
		label {
			color:white;
		}
		p {
			color:#f4a261;;
		}
		button{

				height: 65px;			
				width: 185px;
				border-radius: 25px;
				color:black;
				background-color:#f4a261;
		}
		h6 {
			margin-top: 5px;
			margin-right: 50px;
			text-align: right;
			color:white;
		}
		h5{
			color:white;
		}
		input {
			text-align: center;
			border-radius: 5px;
			width : 150px;
		}
		#soll{
			text-align: center;
			background-color: #19334d;
			color:#f4a261;
		}
		
	</style>
</head>
<body>

	<h6>John Tea Design</h6>
	<div class="container">
		<center>
		<h5 id  = "tag"></h5>
		<p id = "zeit"></p>
		<h2>Bitte gib deine Stempelungen an</h2>
		<div class="container">
		<div class="container-fluid">
			<div class="row">
				<div class="col-lg-6">
					<label for="morgen">Morgen:</label><br>
					<input type="text" name="morgen" id="morgen" maxlength="5" size="5"><br>
					<label for="mittag">Mittag:</label><br>
					<input type="text" name="mittag" id="mittag" maxlength="5" size="5">
					<br><p id = "morgenzeit"></p>
				</div>
				<div class="col-lg-6">
					<label for="nachmittag">Nachmittag:</label><br>
					<input type="text" name="nachmittag" id="nachmittag" maxlength="5" size="5"><br>
					<label for="abend">Abend:</label><br>
					<input type="text" name="abend" id="abend" maxlength="5" size="5"><p id = "abendzeit"></p><p id = 															"gesamtzeit"></p>
				</div>
			</div>
		</div>
		<br><hr color="white"><br>
		<button type="button" onclick="berechnen()"><strong>Berechnen</strong></button><br><br>
		<label for="sollmorgen">Sollzeit Morgen:</label><br>
		<input type="text" name="sollmorgen" id="soll" value="5:00" maxlength="5" size="5"><br>
		<label for="sollmittag">Sollzeit Mittag:</label><br>
		<input type="text" name="sollmittag" id="soll" value="3:00" maxlength="5" size="5"><br>
		<br><p id = "morgenzeit"></p>
		
		
		
	</div>
	
</body>
<script type="text/javascript">
	
	monat = ['Januar','Februar','März','April','Mai','Juni','Juli','August','September',    
                'Oktober','November','Dezember']
	var korrektur = null;
	var minutenA = null;
	var minuten = null;
	var zeitAmMorgen = null;
	var zeitAmAbend = null;
	var zeitGesamt = null;
	var gesamtminuten = null;
	var morgenstunde = null;
	var	morgenminute = null;
	var mittagstunde = null;
	var mittagminute = null;
	var minutes = null;
	var zeitenmorgen = null;
	var zeitenmittag = null;
	var zeitennachmittag = null;
	var nachmittagminute = null;
	var	nachmittagstunde = null;

	var today = new Date(); // Zeit holen
	var date = today.getFullYear()+'-'+(today.getMonth()+1)+'-'+today.getDate();
	var time =  + ":" + today.getMinutes() ;
	var dateTime = date+' '+time;

		if (today.getMinutes() < 10){			// wenn die minuten weniger als 10 sind eine 0 einfügen 5 -> 05
			minutes = "0" + today.getMinutes();
		}else minutes = today.getMinutes();
	
	
	document.getElementById("tag").innerHTML = "Heute ist der "+ today.getDate() +". "+ (monat[today.getMonth()]);
	document.getElementById("zeit").innerHTML = "Es ist "+ today.getHours()+" Uhr " + minutes;	
		
		function berechnen(){
			var morgen = document.getElementById("morgen").value; // wert aus den Feldern lesen
			var mittag = document.getElementById("mittag").value;
			var nachmittag = document.getElementById("nachmittag").value; 
			var abend = document.getElementById("abend").value; 
			
			zeitenmorgen = morgen.split(":"); // Stunden und minuten trennen
			morgenstunde = zeitenmorgen[0];
			morgenminute = zeitenmorgen[1];
			
			zeitenmittag = mittag.split(":"); // Stunden und minuten trennen
			mittagstunde = zeitenmittag[0];
			mittagminute = zeitenmittag[1];
			
			zeitennachmittag = nachmittag.split(":"); // Stunden und minuten trennen
			nachmittagstunde = zeitennachmittag[0];
			nachmittagminute = zeitennachmittag[1];

			zeitenabend = abend.split(":");
			abendstunde = zeitenabend[0];
			abendminute = zeitenabend[1];

			if (morgenminute > mittagminute){  
				mittagstunde = mittagstunde - 1;
				minuten = 60 - parseInt(morgenminute) + parseInt(mittagminute);
			}else{
				minuten = mittagminute - morgenminute;
			}
			if ( minuten < 10){          //wenn die minuten weniger als 10 sind eine 0 einfügen 5 -> 05 
				minuten = "0" + minuten;
			}
			zeitAmMorgen = (mittagstunde - morgenstunde) + ":"+ minuten;
			document.getElementById("morgenzeit").innerHTML = "Am Morgen hast du " + zeitAmMorgen + " Stunden gearbeitet";
			
			if (nachmittagminute > abendminute){  
				abendstunde = abendstunde - 1;
				minutenA = 60 - parseInt(nachmittagminute) + parseInt(abendminute);
			}else{
				minutenA = abendminute - nachmittagminute;
			}
			if ( minutenA < 10){          //wenn die minuten weniger als 10 sind eine 0 einfügen 5 -> 05 
				minutenA = "0" + minutenA;
			}
			zeitAmAbend = (abendstunde - nachmittagstunde) + ":" + minutenA;
			document.getElementById("abendzeit").innerHTML ="Am Abend hast du " + zeitAmAbend + " Stunden gearbeitet";
			
			gesamtminuten = parseInt(minuten) + parseInt(minutenA); // wenn es mehr als 60 Minuten sind 
			if ( gesamtminuten > 59){
				gesamtminuten = gesamtminuten - 60;
				korrektur = 1;
			}
			if ( gesamtminuten < 10){          //wenn die minuten weniger als 10 sind eine 0 einfügen 5 -> 05 
				gesamtminuten = "0" + gesamtminuten;
				korrektur = 0;
			}
			zeitGesamt = (mittagstunde - morgenstunde) + (abendstunde - nachmittagstunde) + korrektur;
			document.getElementById("gesamtzeit").innerHTML = "zusammengezählt hast du " + zeitGesamt + ":" + gesamtminuten + " Stunden gearbeitet";
			
			
			if (morgen.length == 0) // Testen ob ein wert in die Felder eingetragen wurde
			{
				console.log("es wurde kein wert für den morgen eingegeben");
				document.getElementById("morgenzeit").innerHTML = "";
				document.getElementById("gesamtzeit").innerHTML = "None";
			}

			if (mittag.length == 0)
			{
				console.log("es wurde kein wert für den mittag eingegeben");
				document.getElementById("morgenzeit").innerHTML = "";
				document.getElementById("gesamtzeit").innerHTML = "";
				
			}

			if (nachmittag.length == 0)
			{
				console.log("es wurde kein wert für den nachmittag eingegeben");
				document.getElementById("gesamtzeit").innerHTML = "";
				document.getElementById("abendzeit").innerHTML = "";
			}

			if (abend.length == 0)
			{
				console.log("es wurde kein wert für den abend eingegeben");
				document.getElementById("gesamtzeit").innerHTML ="";
				document.getElementById("abendzeit").innerHTML = "";
			}





		}
</script>
</html>               